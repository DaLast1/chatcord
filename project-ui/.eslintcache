[{"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\index.js":"1","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\App.js":"2","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\reportWebVitals.js":"3","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\Auth\\Signup.js":"4","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\Auth\\Login.js":"5","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\NotFound\\404.js":"6","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\api\\index.js":"7","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\components\\Layout\\AuthLayout.js":"8","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\Home\\Home.js":"9","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\components\\Layout\\MainLayout.js":"10","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\components\\Sidebar\\Sidebar.js":"11","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\components\\List\\List.js":"12","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\Profile\\Profile.js":"13","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\Notifications\\Notifications.js":"14","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\Explore\\Explore.js":"15","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\Connect\\Connect.js":"16","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\components\\OptionBox\\OptionBox.js":"17","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\Chat\\Chat.js":"18","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\ChangeProfile\\ChangeProfile.js":"19","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\Search\\Search.js":"20","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\RandomChat\\RandomChat.js":"21","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\ChatBox\\ChatBox.js":"22","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\config\\config.js":"23","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\components\\RoomCard\\RoomCard.js":"24","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\components\\CreateChat\\CreateChat.js":"25","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\components\\Pagination\\Pagination.js":"26","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\components\\Message\\Message.js":"27"},{"size":398,"mtime":1611228582441,"results":"28","hashOfConfig":"29"},{"size":3245,"mtime":1611235532067,"results":"30","hashOfConfig":"29"},{"size":362,"mtime":499162500000,"results":"31","hashOfConfig":"29"},{"size":3330,"mtime":1611228583258,"results":"32","hashOfConfig":"29"},{"size":2919,"mtime":1611235561001,"results":"33","hashOfConfig":"29"},{"size":119,"mtime":1610179659263,"results":"34","hashOfConfig":"29"},{"size":538,"mtime":1610181995226,"results":"35","hashOfConfig":"29"},{"size":126,"mtime":1611228581871,"results":"36","hashOfConfig":"29"},{"size":1065,"mtime":1611235720658,"results":"37","hashOfConfig":"29"},{"size":229,"mtime":1611234403715,"results":"38","hashOfConfig":"29"},{"size":2227,"mtime":1611237540091,"results":"39","hashOfConfig":"29"},{"size":707,"mtime":1610545735484,"results":"40","hashOfConfig":"29"},{"size":1628,"mtime":1611228584248,"results":"41","hashOfConfig":"29"},{"size":0,"mtime":1610483054562,"results":"42","hashOfConfig":"29"},{"size":2253,"mtime":1611228583849,"results":"43","hashOfConfig":"29"},{"size":476,"mtime":1611228583836,"results":"44","hashOfConfig":"29"},{"size":1490,"mtime":1611228581879,"results":"45","hashOfConfig":"29"},{"size":343,"mtime":1611228583306,"results":"46","hashOfConfig":"29"},{"size":6756,"mtime":1611228583304,"results":"47","hashOfConfig":"29"},{"size":2740,"mtime":1611236151945,"results":"48","hashOfConfig":"29"},{"size":3714,"mtime":1611228584252,"results":"49","hashOfConfig":"29"},{"size":4180,"mtime":1611238021990,"results":"50","hashOfConfig":"29"},{"size":371,"mtime":1611228581887,"results":"51","hashOfConfig":"29"},{"size":1446,"mtime":1611236553936,"results":"52","hashOfConfig":"29"},{"size":4657,"mtime":1611228581694,"results":"53","hashOfConfig":"29"},{"size":860,"mtime":1611228581881,"results":"54","hashOfConfig":"29"},{"size":255,"mtime":1611228581878,"results":"55","hashOfConfig":"29"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"i4npfj",{"filePath":"58","messages":"59","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"75","messages":"76","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"77","messages":"78","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"62"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"62"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"62"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"62"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"101","messages":"102","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"62"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"110","messages":"111","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"112","usedDeprecatedRules":"62"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\index.js",[],"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\App.js",["117","118"],"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\reportWebVitals.js",[],["119","120"],"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\Auth\\Signup.js",[],"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\Auth\\Login.js",[],"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\NotFound\\404.js",[],"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\api\\index.js",[],"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\components\\Layout\\AuthLayout.js",[],"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\Home\\Home.js",["121","122","123"],"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\components\\Layout\\MainLayout.js",["124"],"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\components\\Sidebar\\Sidebar.js",["125"],"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\components\\List\\List.js",[],"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\Profile\\Profile.js",["126"],"import { useContext, useState } from \"react\";\r\nimport { AuthContext } from \"../../App\";\r\nimport api from \"../../api\";\r\nimport { Col, Row, Card, Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Sidebar from \"../../components/Sidebar/Sidebar\";\r\n\r\nfunction Profile() {\r\n  const authValue = useContext(AuthContext);\r\n  const { user } = authValue;\r\n  const [currentUser, setuser] = useState(user);\r\n\r\n  const onClick = async () => {\r\n    console.log(user._id);\r\n    const res = await api({\r\n      url: \"http://localhost:5000/api/auth/delete-account\",\r\n      method: \"DELETE\",\r\n      params: {\r\n        id: user._id,\r\n      },\r\n    });\r\n    if (res.success) console.log(\"deleted\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\" fluid>\r\n      <Row>\r\n        <Col>\r\n          <Sidebar />\r\n        </Col>\r\n        <Col xs={10}>\r\n          <div>\r\n            <Card style={{ width: \"18rem\" }}>\r\n              <Card.Img\r\n                variant=\"top\"\r\n                src={currentUser.avatarLink}\r\n                roundedCircle\r\n              />\r\n              <Card.Body>\r\n                <Card.Text>Username</Card.Text>\r\n                <Card.Title>{currentUser.username}</Card.Title>\r\n                <Button variant=\"primary\">\r\n                  <Link to=\"/change-profile\">Update your profile</Link>\r\n                </Button>\r\n                <Button variant=\"primary\" onClick={onClick}>\r\n                  Delete account\r\n                </Button>\r\n              </Card.Body>\r\n            </Card>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\Notifications\\Notifications.js",[],"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\Explore\\Explore.js",["127","128","129","130"],"import { useContext, useState, useEffect } from \"react\";\r\nimport { AuthContext } from \"../../App\";\r\nimport { Col, Row, Button, Container, Card } from \"react-bootstrap\";\r\nimport api from \"../../api\";\r\nimport Sidebar from \"../../components/Sidebar/Sidebar\";\r\nimport CreateChat from \"../../components/CreateChat/CreateChat\";\r\nimport RoomCard from \"../../components/RoomCard/RoomCard\";\r\nimport CustomPagination from \"../../components/Pagination/Pagination\";\r\n\r\nfunction Explore() {\r\n  const authValue = useContext(AuthContext);\r\n  const { user, setUser } = authValue;\r\n  const [roomList, setroomList] = useState([]);\r\n  const [loading, setloading] = useState(1);\r\n  const [page, setPage] = useState(1);\r\n  const [total, setTotal] = useState(0);\r\n  console.log(roomList);\r\n\r\n  const onChangePage = (page) => {\r\n    setPage(page);\r\n  };\r\n\r\n  const getRoom = async () => {\r\n    // const offset = (page - 1) * limit;\r\n    const res = await api({\r\n      url: \"http://localhost:5000/api/room/get-room\",\r\n      method: \"GET\",\r\n      params: {\r\n        page,\r\n        limit: 3,\r\n      },\r\n    });\r\n    if (res.success) {\r\n      console.log(res.data);\r\n      setroomList(res.data.data);\r\n      setTotal(res.data.total);\r\n      setloading(0);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getRoom();\r\n    console.log(\"here\");\r\n  }, [page]);\r\n\r\n  const renderRoomCard = (roomList) => {\r\n    return roomList.map((room) => (\r\n      <RoomCard\r\n        id={room._id}\r\n        roomName={room.roomName}\r\n        roomAvatar={room.roomAvatar}\r\n        createdBy={room.createdBy}\r\n      />\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Col>\r\n          <Sidebar />\r\n        </Col>\r\n        <Col xs={10}>\r\n          <CreateChat />\r\n          <Card style={{ width: \"48rem\" }} className=\"my-4\">\r\n            {loading === 0 && (\r\n              <div className=\"flex\">{renderRoomCard(roomList)}</div>\r\n            )}\r\n            {loading === 1 && <div>Please wait...</div>}\r\n            <CustomPagination\r\n              className=\"pagination\"\r\n              current={page}\r\n              total={total}\r\n              onChangePage={onChangePage}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Explore;\r\n","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\Connect\\Connect.js",["131"],"import { Col, Row, Container } from \"react-bootstrap\";\r\nimport Sidebar from \"../../components/Sidebar/Sidebar\";\r\nimport List from \"../../components/List/List\";\r\nimport OptionBox from \"../../components/OptionBox/OptionBox\";\r\n\r\nfunction Connect() {\r\n  return (\r\n    <Container>\r\n      <Row>\r\n        <Col>\r\n          <Sidebar />\r\n        </Col>\r\n        <Col xs={10}>\r\n          <OptionBox />\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Connect;\r\n","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\components\\OptionBox\\OptionBox.js",[],"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\Chat\\Chat.js",[],"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\ChangeProfile\\ChangeProfile.js",["132","133"],"import { useContext, useState } from \"react\";\r\nimport { AuthContext } from \"../../App\";\r\nimport api from \"../../api\";\r\nimport firebase from \"@firebase/app\";\r\nimport \"@firebase/storage\";\r\nimport firebaseConfig from \"../../config/config\";\r\nimport { Col, Row, Card, Button, Form, Alert } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Sidebar from \"../../components/Sidebar/Sidebar\";\r\n\r\nif (!firebase.apps.length) {\r\n  firebase.initializeApp(firebaseConfig);\r\n} else {\r\n  firebase.app();\r\n}\r\n\r\nfunction ChangeProfile() {\r\n  console.log(\"here\");\r\n\r\n  const authValue = useContext(AuthContext);\r\n  const { user, setUser } = authValue;\r\n  const [currentUser, setuser] = useState(user);\r\n  const [form, setForm] = useState({\r\n    username: currentUser.username,\r\n    newPassword: \"\",\r\n  });\r\n  const [warning, setwarning] = useState(\"invisible\");\r\n  const history = useHistory();\r\n\r\n  const onChangeForm = (event) => {\r\n    const { name, value } = event.target;\r\n\r\n    setForm({\r\n      ...form,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const onSubmitForm = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const updateInfo = {\r\n      userSend: currentUser.email,\r\n      username: form.username,\r\n      newPassword: form.newPassword,\r\n      avatarLink: \"\",\r\n    };\r\n    console.log(updateInfo);\r\n\r\n    if (!event.target.avatar.files.length) {\r\n      updateInfo.avatarLink = currentUser.avatarLink;\r\n      if (updateInfo.username === \"\" || updateInfo.newPassword.length < 6) {\r\n        setwarning(\"visible\");\r\n        console.log(\"here\");\r\n      } else {\r\n        console.log(\"else\");\r\n        const res = await api({\r\n          url: \"http://localhost:5000/api/user/change-profile\",\r\n          method: \"POST\",\r\n          data: updateInfo,\r\n        });\r\n        if (res.success === 1) {\r\n          console.log(res.data);\r\n          setUser({\r\n            ...user,\r\n            username: res.data.username,\r\n            password: res.data.password,\r\n            avatarLink: res.data.avatarLink,\r\n          });\r\n          history.push(\"/profile\");\r\n        } else {\r\n          console.log(res.message);\r\n        }\r\n      }\r\n    } else {\r\n      const file = event.target.avatar.files[0];\r\n      const storageRef = firebase\r\n        .storage()\r\n        .ref(\r\n          `user-data/${currentUser.username}/avatar/${currentUser.username}.${\r\n            file.name.split(\".\")[1]\r\n          }`\r\n        );\r\n      const task = storageRef.put(file);\r\n      task.on(\r\n        \"state_changed\",\r\n        function (snapshot) {\r\n          // // Observe state change events such as progress, pause, and resume\r\n          // // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n          // var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n          // console.log('Upload is ' + progress + '% done');\r\n          // switch (snapshot.state) {\r\n          //   case firebase.storage.TaskState.PAUSED: // or 'paused'\r\n          //     console.log('Upload is paused');\r\n          //     break;\r\n          //   case firebase.storage.TaskState.RUNNING: // or 'running'\r\n          //     console.log('Upload is running');\r\n          //     break;\r\n          // }\r\n        },\r\n        function (error) {\r\n          // Handle unsuccessful uploads\r\n        },\r\n        function () {\r\n          // Handle successful uploads on complete\r\n          // For instance, get the download URL: https://firebasestorage.googleapis.com/...\r\n          task.snapshot.ref.getDownloadURL().then(async (downloadURL) => {\r\n            updateInfo.avatarLink = downloadURL;\r\n\r\n            if (\r\n              updateInfo.username === \"\" ||\r\n              updateInfo.newPassword.length < 6\r\n            ) {\r\n              setwarning(\"visible\");\r\n              console.log(\"here\");\r\n            } else {\r\n              console.log(\"else\");\r\n              const res = await api({\r\n                url: \"http://localhost:5000/api/user/change-profile\",\r\n                method: \"POST\",\r\n                data: updateInfo,\r\n              });\r\n              if (res.success === 1) {\r\n                console.log(res.data);\r\n                setUser({\r\n                  ...user,\r\n                  username: res.data.username,\r\n                  password: res.data.password,\r\n                  avatarLink: res.data.avatarLink,\r\n                });\r\n                history.push(\"/profile\");\r\n              } else {\r\n                console.log(res.message);\r\n              }\r\n            }\r\n          });\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\" fluid>\r\n      <Row>\r\n        <Col>\r\n          <Sidebar />\r\n        </Col>\r\n        <Col xs={10}>\r\n          <div>\r\n            <Card style={{ width: \"30rem\" }} className=\"mx-auto my-5\">\r\n              <div className=\"m-5\">\r\n                <Alert className={warning} variant=\"warning\">\r\n                  Opps... Seem like something went wrong...\r\n                </Alert>\r\n                <Form onSubmit={onSubmitForm}>\r\n                  <Form.Group controlId=\"formBasicText\">\r\n                    <Form.Label>Set new username</Form.Label>\r\n                    <Form.Control\r\n                      value={form.username}\r\n                      type=\"text\"\r\n                      placeholder=\"Username\"\r\n                      name=\"username\"\r\n                      onChange={onChangeForm}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group controlId=\"formBasicPassword\">\r\n                    <Form.Label>Set new password</Form.Label>\r\n                    <Form.Control\r\n                      type=\"password\"\r\n                      placeholder=\"Password\"\r\n                      name=\"newPassword\"\r\n                      onChange={onChangeForm}\r\n                    />\r\n                  </Form.Group>\r\n                  {/* <Form.Group>\r\n                    <Form.File\r\n                      id=\"exampleFormControlFile1\"\r\n                      label=\"Upload new avatar\"\r\n                    />\r\n                  </Form.Group> */}\r\n                  <Form.Group>\r\n                    <label for=\"cover\">Project cover</label>\r\n                    <input type=\"file\" name=\"avatar\"></input>\r\n                  </Form.Group>\r\n                  <Button\r\n                    className=\"none-margin\"\r\n                    variant=\"primary\"\r\n                    type=\"submit\"\r\n                    block\r\n                  >\r\n                    Update\r\n                  </Button>\r\n                </Form>\r\n              </div>\r\n            </Card>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChangeProfile;\r\n","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\Search\\Search.js",["134","135","136","137"],"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\RandomChat\\RandomChat.js",["138","139","140","141"],"import React, { useState, useEffect, useContext, useRef } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport io from \"socket.io-client\";\r\nimport { AuthContext } from \"../../App\";\r\nimport Message from \"../../components/Message/Message\";\r\nimport \"./css/style.css\";\r\n\r\nconst socket = io.connect(\"http://localhost:5000\", {\r\n  withCredentials: true,\r\n  extraHeaders: {\r\n    \"my-custom-header\": \"abcd\",\r\n  },\r\n});\r\n\r\nsocket.emit(\"joinRoom\", {\r\n  username: sessionStorage.getItem(\"username\"),\r\n  room: sessionStorage.getItem(\"roomId\"),\r\n});\r\n\r\nfunction RandomChat() {\r\n  console.log(\"randomchat\");\r\n  const [state, setState] = useState({ text: \"\" });\r\n  const [chat, setChat] = useState([]);\r\n  const authValue = useContext(AuthContext);\r\n  const { user, randomChatRoom, setRandomChatRoom } = authValue;\r\n  const { status, setStatus } = useState(randomChatRoom.status);\r\n  const chatBoxRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"join\", () => {\r\n      console.log(\"join\");\r\n    });\r\n    socket.on(\"message\", ({ username, text, time }) => {\r\n      setChat([...chat, { username, text, time }]);\r\n    });\r\n  });\r\n\r\n  const onTextChange = (e) => {\r\n    setState({ text: e.target.value });\r\n  };\r\n\r\n  const onChatFormSubmit = (e) => {\r\n    e.preventDefault();\r\n    const msg = e.target.elements.msg.value;\r\n    // socket.emit(\"chatMessage\", state.text);\r\n    socket.emit(\"chatMessage\", msg);\r\n\r\n    // setState({ text: \"\" });\r\n    e.target.elements.msg.value = \"\";\r\n    e.target.elements.msg.focus();\r\n  };\r\n\r\n  const renderChat = () => {\r\n    // chatMessages.scrollTop = chatMessages.scrollHeight;\r\n    // chatBoxRef.current.scrollTop = chatBoxRef.current.scrollHeight;\r\n    // console.log(chatBoxRef.current.scrollTop);\r\n    return chat.map((message) => (\r\n      <Message\r\n        username={message.username}\r\n        text={message.text}\r\n        time={message.time}\r\n      />\r\n    ));\r\n  };\r\n\r\n  const onLeave = () => {\r\n    sessionStorage.setItem(\"roomId\", \"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"RandomChat\">\r\n      <div className=\"chat-container\">\r\n        <header className=\"chat-header\">\r\n          <h1>\r\n            <i className=\"fas fa-smile\"></i> ChatCord\r\n          </h1>\r\n          <div className=\"status\">\r\n            {status === \"waiting\" && (\r\n              <>\r\n                <div>please wait...</div>\r\n              </>\r\n            )}\r\n            {status !== \"waiting\" && <></>}\r\n          </div>\r\n          <button className=\"btn\" onClick={onLeave}>\r\n            <Link to=\"/\">Leave Room</Link>\r\n          </button>\r\n        </header>\r\n        <main className=\"chat-main\">\r\n          <div className=\"chat-sidebar\">\r\n            <h3>\r\n              <i className=\"fas fa-comments\"></i> Room Name\r\n            </h3>\r\n            <h2 id=\"room-name\">Random Chat Room</h2>\r\n            {/* <h3>\r\n              <i className=\"fas fa-users\"></i> Users\r\n            </h3> */}\r\n            <ul id=\"users\"></ul>\r\n          </div>\r\n          <div className=\"chat-messages\" ref={chatBoxRef}>\r\n            <div>{renderChat()}</div>\r\n          </div>\r\n        </main>\r\n        <div className=\"chat-form-container\">\r\n          <form id=\"chat-form\" onSubmit={onChatFormSubmit}>\r\n            <input\r\n              id=\"msg\"\r\n              type=\"text\"\r\n              placeholder=\"Enter Message\"\r\n              required\r\n              autocomplete=\"off\"\r\n              // onChange={(e) => onTextChange(e)}\r\n              value={state.message}\r\n            />\r\n            <button className=\"btn none-margin\">\r\n              <i className=\"fas fa-paper-plane\"></i> Send\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RandomChat;\r\n","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\pages\\ChatBox\\ChatBox.js",["142","143","144","145","146","147"],"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\config\\config.js",[],"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\components\\RoomCard\\RoomCard.js",[],"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\components\\CreateChat\\CreateChat.js",["148","149","150","151"],"import { useContext, useState } from \"react\";\r\nimport { AuthContext } from \"../../App\";\r\nimport api from \"../../api\";\r\nimport firebase from \"@firebase/app\";\r\nimport \"@firebase/storage\";\r\nimport firebaseConfig from \"../../config/config\";\r\nimport { Col, Row, Card, Button, Form, Alert } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nif (!firebase.apps.length) {\r\n  firebase.initializeApp(firebaseConfig);\r\n} else {\r\n  firebase.app();\r\n}\r\n\r\nfunction CreateChat() {\r\n  const authValue = useContext(AuthContext);\r\n  const { user, setUser } = authValue;\r\n  const [form, setForm] = useState({\r\n    roomName: \"\",\r\n  });\r\n  const [warning, setwarning] = useState({ className: \"invisible\", msg: \"\" });\r\n  const history = useHistory();\r\n\r\n  const onChangeForm = (event) => {\r\n    const { name, value } = event.target;\r\n\r\n    setForm({\r\n      ...form,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const onSubmitForm = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const newRoom = {\r\n      userSend: user.username,\r\n      roomName: form.roomName,\r\n      roomAvatar: \"\",\r\n    };\r\n    console.log(\"create\");\r\n    if (!event.target.avatar.files.length) {\r\n      newRoom.roomAvatar = `https://firebasestorage.googleapis.com/v0/b/cfjs-42-anhdt.appspot.com/o/default-avatar%2Fdefault-avatar-${Math.floor(\r\n        Math.random() * 5 + 1\r\n      )}.png?alt=media&token=aa788f9c-7501-44fb-868e-441c121ddc2e`;\r\n      if (newRoom.roomName === \"\") {\r\n        setwarning({ className: \"visible\", msg: \"Please enter room name\" });\r\n      } else {\r\n        const res = await api({\r\n          url: \"http://localhost:5000/api/room/create-room\",\r\n          method: \"POST\",\r\n          data: newRoom,\r\n        });\r\n        if (res.success === 1) {\r\n          console.log(res.data);\r\n          // history.push(\"/explore\");\r\n          window.location.reload();\r\n        }\r\n      }\r\n    } else {\r\n      const file = event.target.avatar.files[0];\r\n      const storageRef = firebase\r\n        .storage()\r\n        .ref(\r\n          `room-data/${newRoom.roomName}/avatar/${newRoom.roomName}.${\r\n            file.name.split(\".\")[1]\r\n          }`\r\n        );\r\n      const task = storageRef.put(file);\r\n      task.on(\r\n        \"state_changed\",\r\n        function (snapshot) {\r\n          // // Observe state change events such as progress, pause, and resume\r\n          // // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n          // var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n          // console.log('Upload is ' + progress + '% done');\r\n          // switch (snapshot.state) {\r\n          //   case firebase.storage.TaskState.PAUSED: // or 'paused'\r\n          //     console.log('Upload is paused');\r\n          //     break;\r\n          //   case firebase.storage.TaskState.RUNNING: // or 'running'\r\n          //     console.log('Upload is running');\r\n          //     break;\r\n          // }\r\n        },\r\n        function (error) {},\r\n        function () {\r\n          task.snapshot.ref.getDownloadURL().then(async (downloadURL) => {\r\n            newRoom.roomAvatar = downloadURL;\r\n            if (newRoom.roomName === \"\") {\r\n              setwarning(\"visible\");\r\n            } else {\r\n              const res = await api({\r\n                url: \"http://localhost:5000/api/room/create-room\",\r\n                method: \"POST\",\r\n                data: newRoom,\r\n              });\r\n              if (res.success === 1) {\r\n                console.log(res.data);\r\n                // history.push(\"/explore\");\r\n                window.location.reload();\r\n              }\r\n            }\r\n          });\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card style={{ width: \"30rem\" }} className=\"\">\r\n      <div className=\"m-5\">\r\n        <Alert className={warning.className} variant=\"warning\">\r\n          {warning.msg}\r\n        </Alert>\r\n        <Form onSubmit={onSubmitForm}>\r\n          <Form.Group controlId=\"formBasicText\">\r\n            <Form.Label>Set room name</Form.Label>\r\n            <Form.Control\r\n              value={form.roomName}\r\n              type=\"text\"\r\n              placeholder=\"Set room name\"\r\n              name=\"roomName\"\r\n              onChange={onChangeForm}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <label for=\"cover\">Room avatar</label>\r\n            <input type=\"file\" name=\"avatar\"></input>\r\n          </Form.Group>\r\n          <Button className=\"none-margin\" variant=\"primary\" type=\"submit\" block>\r\n            Create room\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default CreateChat;\r\n","F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\components\\Pagination\\Pagination.js",[],"F:\\Temporary File\\Repository\\project-main\\project-ui\\src\\components\\Message\\Message.js",[],{"ruleId":"152","severity":1,"message":"153","line":1,"column":25,"nodeType":"154","messageId":"155","endLine":1,"endColumn":33},{"ruleId":"152","severity":1,"message":"156","line":3,"column":10,"nodeType":"154","messageId":"155","endLine":3,"endColumn":15},{"ruleId":"157","replacedBy":"158"},{"ruleId":"159","replacedBy":"160"},{"ruleId":"152","severity":1,"message":"156","line":2,"column":31,"nodeType":"154","messageId":"155","endLine":2,"endColumn":36},{"ruleId":"161","severity":1,"message":"162","line":21,"column":6,"nodeType":"163","endLine":21,"endColumn":15,"suggestions":"164"},{"ruleId":"152","severity":1,"message":"165","line":23,"column":9,"nodeType":"154","messageId":"155","endLine":23,"endColumn":15},{"ruleId":"152","severity":1,"message":"166","line":4,"column":11,"nodeType":"154","messageId":"155","endLine":4,"endColumn":19},{"ruleId":"152","severity":1,"message":"167","line":3,"column":10,"nodeType":"154","messageId":"155","endLine":3,"endColumn":13},{"ruleId":"152","severity":1,"message":"168","line":11,"column":23,"nodeType":"154","messageId":"155","endLine":11,"endColumn":30},{"ruleId":"152","severity":1,"message":"169","line":3,"column":20,"nodeType":"154","messageId":"155","endLine":3,"endColumn":26},{"ruleId":"152","severity":1,"message":"170","line":12,"column":11,"nodeType":"154","messageId":"155","endLine":12,"endColumn":15},{"ruleId":"152","severity":1,"message":"171","line":12,"column":17,"nodeType":"154","messageId":"155","endLine":12,"endColumn":24},{"ruleId":"161","severity":1,"message":"172","line":44,"column":6,"nodeType":"163","endLine":44,"endColumn":12,"suggestions":"173"},{"ruleId":"152","severity":1,"message":"174","line":3,"column":8,"nodeType":"154","messageId":"155","endLine":3,"endColumn":12},{"ruleId":"152","severity":1,"message":"175","line":8,"column":10,"nodeType":"154","messageId":"155","endLine":8,"endColumn":14},{"ruleId":"152","severity":1,"message":"168","line":23,"column":23,"nodeType":"154","messageId":"155","endLine":23,"endColumn":30},{"ruleId":"152","severity":1,"message":"176","line":1,"column":10,"nodeType":"154","messageId":"155","endLine":1,"endColumn":20},{"ruleId":"152","severity":1,"message":"177","line":4,"column":10,"nodeType":"154","messageId":"155","endLine":4,"endColumn":20},{"ruleId":"152","severity":1,"message":"178","line":5,"column":8,"nodeType":"154","messageId":"155","endLine":5,"endColumn":15},{"ruleId":"152","severity":1,"message":"179","line":7,"column":10,"nodeType":"154","messageId":"155","endLine":7,"endColumn":21},{"ruleId":"152","severity":1,"message":"170","line":25,"column":11,"nodeType":"154","messageId":"155","endLine":25,"endColumn":15},{"ruleId":"152","severity":1,"message":"180","line":25,"column":33,"nodeType":"154","messageId":"155","endLine":25,"endColumn":50},{"ruleId":"152","severity":1,"message":"181","line":26,"column":19,"nodeType":"154","messageId":"155","endLine":26,"endColumn":28},{"ruleId":"152","severity":1,"message":"182","line":38,"column":9,"nodeType":"154","messageId":"155","endLine":38,"endColumn":21},{"ruleId":"152","severity":1,"message":"183","line":24,"column":21,"nodeType":"154","messageId":"155","endLine":24,"endColumn":33},{"ruleId":"152","severity":1,"message":"170","line":26,"column":11,"nodeType":"154","messageId":"155","endLine":26,"endColumn":15},{"ruleId":"152","severity":1,"message":"180","line":26,"column":33,"nodeType":"154","messageId":"155","endLine":26,"endColumn":50},{"ruleId":"152","severity":1,"message":"181","line":27,"column":19,"nodeType":"154","messageId":"155","endLine":27,"endColumn":28},{"ruleId":"152","severity":1,"message":"182","line":42,"column":9,"nodeType":"154","messageId":"155","endLine":42,"endColumn":21},{"ruleId":"152","severity":1,"message":"184","line":70,"column":9,"nodeType":"154","messageId":"155","endLine":70,"endColumn":20},{"ruleId":"152","severity":1,"message":"185","line":7,"column":10,"nodeType":"154","messageId":"155","endLine":7,"endColumn":13},{"ruleId":"152","severity":1,"message":"186","line":7,"column":15,"nodeType":"154","messageId":"155","endLine":7,"endColumn":18},{"ruleId":"152","severity":1,"message":"171","line":18,"column":17,"nodeType":"154","messageId":"155","endLine":18,"endColumn":24},{"ruleId":"152","severity":1,"message":"187","line":23,"column":9,"nodeType":"154","messageId":"155","endLine":23,"endColumn":16},"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","'Image' is defined but never used.","no-native-reassign",["188"],"no-negated-in-lhs",["189"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getItem'. Either include it or remove the dependency array.","ArrayExpression",["190"],"'render' is assigned a value but never used.","'children' is assigned a value but never used.","'Nav' is defined but never used.","'setuser' is assigned a value but never used.","'Button' is defined but never used.","'user' is assigned a value but never used.","'setUser' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getRoom'. Either include it or remove the dependency array.",["191"],"'List' is defined but never used.","'Link' is defined but never used.","'useContext' is defined but never used.","'useHistory' is defined but never used.","'Sidebar' is defined but never used.","'AuthContext' is defined but never used.","'setRandomChatRoom' is assigned a value but never used.","'setStatus' is assigned a value but never used.","'onTextChange' is assigned a value but never used.","'setroomUsers' is assigned a value but never used.","'renderUsers' is assigned a value but never used.","'Col' is defined but never used.","'Row' is defined but never used.","'history' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"192","fix":"193"},{"desc":"194","fix":"195"},"Update the dependencies array to be: [getItem, isLogin]",{"range":"196","text":"197"},"Update the dependencies array to be: [getRoom, page]",{"range":"198","text":"199"},[644,653],"[getItem, isLogin]",[1313,1319],"[getRoom, page]"]